<!-- Sidebar Container -->
<div class="confluence-sidebar">
  <button class="sidebar-toggle" aria-label="Toggle Sidebar"></button>
  {% for section in site.data.docs %}
    {% assign section_url = section.path | prepend:"/docs/" %}
    <div class="sidebar-section">
      <!-- Section Title (Collapsible Toggle) -->
      <div class="sidebar-section-title" data-toggle="collapse" data-target="#section-{{forloop.index}}">
        <a href="{{ section_url | prepend: site.baseurl }}">{{ section.title }}</a>
        <span class="toggle-icon"></span>
      </div>
      <!-- Section Content (Collapsible) -->
      <ul id="section-{{forloop.index}}" class="sidebar-section-content collapse in">
        {% for item in section.docs %}
          {% assign item_url = item.path | prepend:"/docs/" %}
          <li class="{% if page.url contains item_url %}active{% endif %}">
            <a href="{{ item_url | prepend: site.baseurl }}">{{ item.title }}</a>
            {% if item.subdocs %}
              <ul class="sidebar-subsection">
                {% for subitem in item.subdocs %}
                  {% assign subitem_url = subitem.path | prepend:"/docs/" %}
                  <li class="{% if subitem_url == page.url %}active{% endif %}">
                    <a href="{{ subitem_url | prepend: site.baseurl }}">{{ subitem.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}
</div>